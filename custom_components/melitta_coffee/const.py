DOMAIN = "melitta_coffee"

CONF_MAC_ADDRESS = "mac_address"

BLE_READ_UUID = "0000ad02-b35c-11e4-9813-0002a5d5c51b"
BLE_WRITE_UUID = "0000ad03-b35c-11e4-9813-0002a5d5c51b"

FRAME_START = 0x53  # 'S'
FRAME_END = 0x45    # 'E'

SUPPORTED_MACHINE_CODES = {"8301", "8311", "8401", "8501", "8601", "8604"}

MACHINE_CODE_NAMES = {
    "8301": "Caffeo Barista T",
    "8311": "Caffeo Barista TS",
    "8401": "Barista Smart",
    "8501": "Barista T Smart",
    "8601": "Barista TS Smart",
    "8604": "Barista TS Smart",
}

AES_KEY = bytes([
    -125 & 0xFF, 74, 62, -104 & 0xFF, 13, 101, -6 & 0xFF, -52 & 0xFF,
    89, 70, -71 & 0xFF, 68, 40, 36, 7, 45,
    -80 & 0xFF, -41 & 0xFF, 125, -48 & 0xFF, -66 & 0xFF, 9, -125 & 0xFF, -77 & 0xFF,
    -54 & 0xFF, -18 & 0xFF, 10, -81 & 0xFF, -108 & 0xFF, 114, -87 & 0xFF, 36
])

AES_ENCRYPTED_DATA = bytes([
    -81 & 0xFF, -14 & 0xFF, 21, -30 & 0xFF, 26, 60, 54, -89 & 0xFF,
    11, -42 & 0xFF, 95, -65 & 0xFF, 125, -6 & 0xFF, -99 & 0xFF, -111 & 0xFF,
    65, -16 & 0xFF, 14, 36, -126 & 0xFF, -40 & 0xFF, 13, -28 & 0xFF,
    15, 114, -48 & 0xFF, 48, -28 & 0xFF, -9 & 0xFF, -87 & 0xFF, 63,
    72, 122, -75 & 0xFF, 57, -13 & 0xFF, 101, 23, -7 & 0xFF,
    123, -9 & 0xFF, -66 & 0xFF, -30 & 0xFF, -87 & 0xFF, 5, -113 & 0xFF, -47 & 0xFF
])

RC4_KEY_PART_B = bytes([
    125, 57, 51, 41, 121, 78, -30 & 0xFF, 10,
    -62 & 0xFF, -22 & 0xFF, -27 & 0xFF, -19 & 0xFF, -89 & 0xFF, -85 & 0xFF, 3, 40, -12 & 0xFF
])

RC4_KEY_PART_A = bytes([
    99, -127 & 0xFF, 119, 125, 118, 101, -102 & 0xFF, -108 & 0xFF,
    -39 & 0xFF, 100, -61 & 0xFF, -117 & 0xFF, -95 & 0xFF, -65 & 0xFF, -14 & 0xFF
])

IV_INIT = bytes([
    -72 & 0xFF, -1 & 0xFF, -122 & 0xFF, -122 & 0xFF, 64, -10 & 0xFF, 12, -118 & 0xFF,
    25, 69, -117 & 0xFF, -123 & 0xFF, 58, -99 & 0xFF, 93, -2 & 0xFF
])

SBOX = [
    98, 6, 85, 150, 36, 23, 112, 164, 135, 207, 169, 5, 26, 64, 165, 219,
    61, 20, 68, 89, 130, 63, 52, 102, 24, 229, 132, 245, 80, 216, 195, 115,
    90, 168, 156, 203, 177, 120, 2, 190, 188, 7, 100, 185, 174, 243, 162, 10,
    237, 18, 253, 225, 8, 208, 172, 244, 255, 126, 101, 79, 145, 235, 228, 121,
    123, 251, 67, 250, 161, 0, 107, 97, 241, 111, 181, 82, 249, 33, 69, 55,
    59, 153, 29, 9, 213, 167, 84, 93, 30, 46, 94, 75, 151, 114, 73, 222,
    197, 96, 210, 45, 16, 227, 248, 202, 51, 152, 252, 125, 81, 206, 215, 186,
    39, 158, 178, 187, 131, 136, 1, 49, 50, 17, 141, 91, 47, 129, 60, 99,
    154, 35, 86, 171, 105, 34, 38, 200, 147, 58, 77, 118, 173, 246, 76, 254,
    133, 232, 196, 144, 198, 124, 53, 4, 108, 74, 223, 234, 134, 230, 157, 139,
    189, 205, 199, 128, 176, 19, 211, 236, 127, 192, 231, 70, 233, 88, 146, 44,
    183, 201, 22, 83, 13, 214, 116, 109, 159, 32, 95, 226, 140, 220, 57, 12,
    221, 31, 209, 182, 143, 92, 149, 184, 148, 62, 113, 65, 37, 27, 106, 166,
    3, 14, 204, 72, 21, 41, 56, 66, 28, 193, 40, 217, 25, 54, 179, 117,
    238, 87, 240, 155, 180, 170, 242, 212, 191, 163, 78, 218, 137, 194, 175, 110,
    43, 119, 224, 71, 122, 142, 42, 160, 104, 48, 247, 103, 15, 11, 138, 239,
]

CMD_AUTH = "G\x02"
CMD_KEEPALIVE = "G\x01"
CMD_STATUS = "HX"
CMD_BREW = "HJ"
CMD_READ = "HR"
CMD_WRITE = "HW"
CMD_SET_PROCESS = "HZ"
CMD_ACKNOWLEDGE = "A"
CMD_NACK = "N"
CMD_VERSION = "HV"
CMD_FACTORY = "HF"
CMD_LIST = "HL"
CMD_QUERY = "HQ"
CMD_ANSWER = "HA"
CMD_PARAMETER = "HP"
CMD_CONFIRM = "HC"

COMMAND_REGISTRY = {
    "A": (0, True),
    "N": (0, True),
    "HV": (11, True),
    "HF": (16, True),
    "HL": (20, True),
    "HQ": (15, True),
    "HR": (6, True),
    "HW": (6, True),
    "HA": (66, True),
    "HP": (14, True),
    "HC": (66, True),
    "HX": (8, True),
    "HJ": (3, True),
    "HZ": (3, True),
}

KEEPALIVE_INTERVAL = 55

BEVERAGE_ESPRESSO = 0
BEVERAGE_RISTRETTO = 1
BEVERAGE_LUNGO = 2
BEVERAGE_ESPRESSO_DOPIO = 3
BEVERAGE_RISTRETTO_DOPIO = 4
BEVERAGE_CAFE_CREME = 5
BEVERAGE_CAFE_CREME_DOPIO = 6
BEVERAGE_AMERICANO = 7
BEVERAGE_AMERICANO_EXTRA = 8
BEVERAGE_CAPPUCCINO = 9
BEVERAGE_LATTE_MACCHIATO = 10
BEVERAGE_CAFE_LATTE = 11
BEVERAGE_FLAT_WHITE = 12
BEVERAGE_MILK_FOAM = 13
BEVERAGE_WARM_MILK = 14
BEVERAGE_HOT_WATER = 15
BEVERAGE_MY_COFFEE = 16

BEVERAGE_NAMES = {
    BEVERAGE_ESPRESSO: "Espresso",
    BEVERAGE_RISTRETTO: "Ristretto",
    BEVERAGE_LUNGO: "Lungo",
    BEVERAGE_ESPRESSO_DOPIO: "Espresso Dopio",
    BEVERAGE_RISTRETTO_DOPIO: "Ristretto Dopio",
    BEVERAGE_CAFE_CREME: "Café Crème",
    BEVERAGE_CAFE_CREME_DOPIO: "Café Crème Dopio",
    BEVERAGE_AMERICANO: "Americano",
    BEVERAGE_AMERICANO_EXTRA: "Americano Extra",
    BEVERAGE_CAPPUCCINO: "Cappuccino",
    BEVERAGE_LATTE_MACCHIATO: "Latte Macchiato",
    BEVERAGE_CAFE_LATTE: "Café Latte",
    BEVERAGE_FLAT_WHITE: "Flat White",
    BEVERAGE_MILK_FOAM: "Milk Foam",
    BEVERAGE_WARM_MILK: "Warm Milk",
    BEVERAGE_HOT_WATER: "Hot Water",
    BEVERAGE_MY_COFFEE: "My Coffee",
}

MACHINE_STATE_READY = 2
MACHINE_STATE_PRODUCT = 4
MACHINE_STATE_CLEANING = 9
MACHINE_STATE_DESCALING = 10
MACHINE_STATE_FILTER_INSERT = 11
MACHINE_STATE_FILTER_REPLACE = 12
MACHINE_STATE_FILTER_REMOVE = 13
MACHINE_STATE_SWITCH_OFF = 16
MACHINE_STATE_EASY_CLEAN = 17
MACHINE_STATE_INTENSIVE_CLEAN = 19
MACHINE_STATE_EVAPORATING = 20
MACHINE_STATE_BUSY = 99

MACHINE_STATE_NAMES = {
    MACHINE_STATE_READY: "Ready",
    MACHINE_STATE_PRODUCT: "Brewing",
    MACHINE_STATE_CLEANING: "Cleaning",
    MACHINE_STATE_DESCALING: "Descaling",
    MACHINE_STATE_FILTER_INSERT: "Filter Insert",
    MACHINE_STATE_FILTER_REPLACE: "Filter Replace",
    MACHINE_STATE_FILTER_REMOVE: "Filter Remove",
    MACHINE_STATE_SWITCH_OFF: "Switch Off",
    MACHINE_STATE_EASY_CLEAN: "Easy Clean",
    MACHINE_STATE_INTENSIVE_CLEAN: "Intensive Clean",
    MACHINE_STATE_EVAPORATING: "Evaporating",
    MACHINE_STATE_BUSY: "Busy",
}

PRODUCT_ESPRESSO = 0
PRODUCT_COFFEE = 1
PRODUCT_CAPPUCCINO = 2
PRODUCT_MACCHIATO = 3
PRODUCT_MILK_FROTH = 4
PRODUCT_MILK = 5
PRODUCT_WATER = 6
PRODUCT_MENU = 7

INTENSITY_STANDARD = 0
INTENSITY_INTENSE = 1
